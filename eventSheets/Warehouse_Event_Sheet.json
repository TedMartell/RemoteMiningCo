{
	"name": "Warehouse_Event_Sheet",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 928691240517988,
					"parameters": {
						"key": 27
					}
				}
			],
			"actions": [
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 859386409921342,
					"parameters": {
						"layout": "Game"
					}
				},
				{
					"id": "load",
					"objectClass": "System",
					"sid": 548153107242841,
					"parameters": {
						"slot": "\"mysave\""
					}
				}
			],
			"sid": 745357576114492
		},
		{
			"functionName": "SaveInventory",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-item",
					"objectClass": "LocalStorage",
					"sid": 102723019256382,
					"parameters": {
						"key": "\"inventory\"",
						"value": "Inventory.AsJSON"
					}
				}
			],
			"sid": 254916093749629
		},
		{
			"functionName": "LoadInventory",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "get-item",
					"objectClass": "LocalStorage",
					"sid": 640191027084764,
					"parameters": {
						"key": "\"inventory\""
					}
				}
			],
			"sid": 769760078033621
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Warehouse Inventory Management",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "Warehouse_Item_ID",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 306422887395739
				},
				{
					"eventType": "variable",
					"name": "Warehouse_Item_Type",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 104998381099399
				},
				{
					"eventType": "variable",
					"name": "Warehouse_Item_Quantity",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 147755122302359
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-clicked",
							"objectClass": "Move_All_To_Warehouse",
							"sid": 965240830062723
						}
					],
					"actions": [
						{
							"id": "move-all",
							"objectClass": "Inventory",
							"sid": 842267399422376,
							"parameters": {
								"from": "\"Inventory_Miner\"",
								"to": "\"Inventory_Global\""
							}
						},
						{
							"type": "script",
							"script": "moveAllItems(minerInventory, globalInventory)"
						}
					],
					"sid": 991529531796491
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 940283991953394,
							"parameters": {
								"key": 71
							}
						}
					],
					"actions": [],
					"sid": 900975528095889,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-inventory-shown",
									"objectClass": "Inventory",
									"sid": 487252072332786,
									"parameters": {
										"param0": "\"Inventory_Global\""
									}
								}
							],
							"actions": [
								{
									"id": "hide-inventory",
									"objectClass": "Inventory",
									"sid": 534585228452090,
									"parameters": {
										"param0": "\"Inventory_Global\""
									}
								},
								{
									"id": "set-visible",
									"objectClass": "Value_Weight_Text",
									"sid": 124533981327235,
									"parameters": {
										"visibility": "invisible"
									}
								}
							],
							"sid": 349714430211220
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 769465304749835
								}
							],
							"actions": [
								{
									"id": "show-inventory",
									"objectClass": "Inventory",
									"sid": 299120838180056,
									"parameters": {
										"param0": "\"Inventory_Global\"",
										"param1": "\"warehouse\"",
										"param2": "0",
										"param3": "0"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "Value_Weight_Text",
									"sid": 939563746871220,
									"parameters": {
										"visibility": "visible"
									}
								}
							],
							"sid": 196393862099944
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 477313675785639,
							"parameters": {
								"key": 73
							}
						}
					],
					"actions": [],
					"sid": 571375505743230,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-inventory-shown",
									"objectClass": "Inventory",
									"sid": 911130986061702,
									"parameters": {
										"param0": "\"Inventory_Miner\""
									}
								}
							],
							"actions": [
								{
									"id": "hide-inventory",
									"objectClass": "Inventory",
									"sid": 851436492882796,
									"parameters": {
										"param0": "\"Inventory_Miner\""
									}
								},
								{
									"id": "set-visible",
									"objectClass": "Value_Weight_Text",
									"sid": 382129756570418,
									"parameters": {
										"visibility": "invisible"
									}
								}
							],
							"sid": 637305451919765
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 754090424724706
								}
							],
							"actions": [
								{
									"id": "show-inventory",
									"objectClass": "Inventory",
									"sid": 587401413065578,
									"parameters": {
										"param0": "\"Inventory_Miner\"",
										"param1": "\"warehouse\"",
										"param2": "500",
										"param3": "0"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "Value_Weight_Text",
									"sid": 237329054643965,
									"parameters": {
										"visibility": "visible"
									}
								}
							],
							"sid": 391653880805440
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 958536302821795,
							"parameters": {
								"key": 79
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"script": "addToInventory(minerInventory, miningItems.Coal_Inv, 1)"
						}
					],
					"sid": 698622993925558
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "Mouse",
							"sid": 929327677834359,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "Inventory_Sprites"
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 944390234883478,
							"parameters": {
								"key": 16
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 741555878862815,
							"parameters": {
								"variable": "Warehouse_Item_ID",
								"value": "Inventory.ItemIdByCords(\"Inventory_Miner\", Mouse.X, Mouse.Y)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 787396862264560,
							"parameters": {
								"variable": "Warehouse_Item_Type",
								"value": "Inventory.ItemType(Warehouse_Item_ID)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 306159993230174,
							"parameters": {
								"variable": "Warehouse_Item_Quantity",
								"value": "Inventory.ItemQuantity(Warehouse_Item_ID)"
							}
						},
						{
							"type": "script",
							"script": "console.log(localVars.Warehouse_Item_Quantity)"
						},
						{
							"id": "set-item-quantity",
							"objectClass": "Inventory",
							"sid": 137582969000206,
							"parameters": {
								"param0": "Warehouse_Item_ID",
								"param1": "Inventory.ItemQuantity(Warehouse_Item_ID) -Warehouse_Item_Quantity"
							}
						},
						{
							"type": "script",
							"script": "moveItemWithQuantity(minerInventory, globalInventory, localVars.Warehouse_Item_Type, localVars.Warehouse_Item_Quantity )"
						},
						{
							"id": "create-item",
							"objectClass": "Inventory",
							"sid": 235444408876051,
							"parameters": {
								"type": "Warehouse_Item_Type",
								"quantity": "Warehouse_Item_Quantity",
								"inventory-id": "\"Inventory_Global\"",
								"slot-id": "\"\""
							}
						},
						{
							"id": "destroy-item",
							"objectClass": "Inventory",
							"sid": 196408360703379,
							"parameters": {
								"param0": "Inventory.InventoryIdByCords(Mouse.X, Mouse.Y)"
							}
						}
					],
					"sid": 579102177098913
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "Mouse",
							"sid": 825115129688889,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "Inventory_Sprites"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 611603937536922,
							"parameters": {
								"variable": "Warehouse_Item_ID",
								"value": "Inventory.ItemIdByCords(\"Inventory_Miner\", Mouse.X, Mouse.Y)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 470722176011030,
							"parameters": {
								"variable": "Warehouse_Item_Type",
								"value": "Inventory.ItemType(Warehouse_Item_ID)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 313569318899725,
							"parameters": {
								"variable": "Warehouse_Item_Quantity",
								"value": "Inventory.ItemQuantity(Warehouse_Item_ID)"
							}
						},
						{
							"id": "set-item-quantity",
							"objectClass": "Inventory",
							"sid": 483059456746133,
							"parameters": {
								"param0": "Warehouse_Item_ID",
								"param1": "Inventory.ItemQuantity(Warehouse_Item_ID) -1"
							}
						},
						{
							"type": "script",
							"script": "moveItemWithQuantity(minerInventory, globalInventory, localVars.Warehouse_Item_Type, 1 )"
						},
						{
							"id": "create-item",
							"objectClass": "Inventory",
							"sid": 575217966944889,
							"parameters": {
								"type": "Warehouse_Item_Type",
								"quantity": "1",
								"inventory-id": "\"Inventory_Global\"",
								"slot-id": "\"\""
							}
						}
					],
					"sid": 557070369124566
				}
			],
			"sid": 322701768866508
		}
	],
	"sid": 817926889311537
}